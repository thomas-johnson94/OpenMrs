<link rel="import" href="../bower_components/polymer/polymer-element.html"
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/app-layout/app-layout.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>

  <dom-module id="form-test">
    <template>
      <iron-form id="myForm" on-iron-form-presubmit="_presubmit">
        <form method="post"
              action="//httpbin.org/post">
          <paper-input name="name" label="name"></paper-input>
          <paper-button on-tap="_submit">Submit</paper-button>
        </form>
      </iron-form>
    </template>


<script>
  class FormTest extends Polymer.Element {
    static get is() { return 'form-test'; }

    _presubmit(e) {
      const body = this.$.myForm.request.body;
      body['newkey'] = [1,2,3];
      console.log('presubmit body', body);
    }

    _submit() {
      this.$.myForm.submit();
    }
  }
  window.customElements.define(FormTest.is, FormTest);
</script>
</dom-module>
